require("array-includes").shim();

var fs = require("fs");
var path = require("path");
var mv = require("mv");
var glob = require("glob");

var programs = require("./tpl/programs.json");
var examples = programs.reduce(function(examples, set) {
  set.examples.forEach(function(eg) {
    examples.push(eg.file);
  });

  return examples;
}, []);
console.log(examples);
glob("eg/**/*.js", function(error, files) {
  files.forEach(function(file) {
    var base = path.basename(file);
    if (examples.includes(base)) {
      console.log("keep it");
    } else {
      // mv()
      console.log("move it");
      console.log(file);
    }
  });
  console.log(files.length);
});
